<div class="flex my-2 px-4" [class.justify-end]="isSender()" [class.justify-start]="!isSender()">
  <div class="max-w-[70%] min-w-[120px] relative rounded-2xl px-4 py-3 shadow-sm break-words transition-shadow duration-200 hover:shadow-md"
       [class]="isSender() ? 'bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-br-md' : 'bg-gray-100 text-gray-900 rounded-bl-md dark:bg-gray-700 dark:text-white'">
    
    <div class="mb-1">
      <p class="text-sm leading-relaxed whitespace-pre-wrap m-0">{{ message().message }}</p>
    </div>
    
    <div class="flex items-center justify-between text-xs opacity-70 mt-1">
      <span class="font-normal">{{ message().timestamp | date:'shortTime' }}</span>
      
      <div class="flex items-center ml-2" *ngIf="isSender()">
        <svg class="w-4 h-4 opacity-80" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
        </svg>
      </div>
    </div>
  </div>
</div>